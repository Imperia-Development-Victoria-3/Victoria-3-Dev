namespace = dead_man_pulse
# UNIVERSITY PROTESTS
dead_man_pulse.1 = {
	type = country_event
	placement = ROOT
	title = dead_man_pulse.1.t
	desc = dead_man_pulse.1.d
	flavor = dead_man_pulse.1.f
	duration = 3
	event_image = {
		video = "middleeast_courtroom_upheaval"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	trigger = {
		NOT = {
			has_variable = dead_man_pulse_uni
		}
		has_law = law_type:law_monarchy
	}
	immediate = {
		set_variable = dead_man_pulse_uni
	}
	option = {
		name = dead_man_pulse.1.a
		default_option = yes
		custom_tooltip = {
			text = communist_progress_increase_tick_03_tt
			change_variable = {
				name = communist_progress_from_effects
				add = 0.3
			}
		}
		custom_tooltip = {
			text = theocracy_progress_decrease_15_tt
			change_variable = {
				name = theocracy_progress
				add = -15
			}
		}
		add_modifier = {
			name = dead_man_uni_comm
			months = normal_modifier_time
		}
		add_radicals = {
			value = 0.05
			culture = cu:turkish
		}
	}
	option = {
		name = dead_man_pulse.1.b
		custom_tooltip = {
			text = republican_progress_increase_10_tt
			change_variable = {
				name = republican_progress
				add = 10
			}
		}
		custom_tooltip = {
			text = theocracy_progress_decrease_10_tt
			change_variable = {
				name = theocracy_progress
				add = -10
			}
		}
		add_modifier = {
			name = dead_man_uni_rep
			months = short_modifier_time
		}
		add_radicals = {
			pop_type = academics
			value = very_large_radicals
		}
		add_radicals = {
			pop_type = clergymen
			value = large_radicals
		}
	}
	option = {
		name = dead_man_pulse.1.c
		custom_tooltip = {
			text = theocracy_progress_decrease_5_tt
			change_variable = {
				name = theocracy_progress
				add = -5
			}
		}
		add_modifier = {
			name = dead_man_uni_theo
			months = short_modifier_time
		}
		add_radicals = {
			pop_type = academics
			value = very_large_radicals
		}
		add_radicals = {
			pop_type = bureaucrats
			value = large_radicals
		}
	}
}

# MILITARY SUPPORTS COUP
dead_man_pulse.2 = {
	type = country_event
	placement = ROOT
	title = dead_man_pulse.2.t
	desc = dead_man_pulse.2.d
	flavor = dead_man_pulse.2.f
	duration = 3
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"
	trigger = {
		NOT = {
			has_variable = dead_man_pulse_mil
		}
		has_law = law_type:law_monarchy
	}
	immediate = {
		set_variable = dead_man_pulse_mil
	}
	option = {
		name = dead_man_pulse.2.a
		custom_tooltip = {
			text = communist_progress_increase_10_tt
			change_variable = {
				name = communist_progress
				add = 10
			}
		}
		if = {
			limit = {
				ig:ig_armed_forces.leader = {
					NOT = {
						OR = {
							has_ideology = ideology:ideology_communist
							has_ideology = ideology:ideology_vanguardist
							has_ideology = ideology:ideology_anarchist
							has_ideology = ideology:ideology_social_democrat
							has_ideology = ideology:ideology_humanitarian
						}
					}
				}
			}
			ig:ig_armed_forces.leader = {
				set_ideology = ideology:ideology_vanguardist
				add_modifier = {
					name = dead_man_revolutionary
				}
			}
		}
		add_modifier = {
			name = dead_man_mil_comm
			months = normal_modifier_time
		}
	}
	option = {
		name = dead_man_pulse.2.b
		default_option = yes
		custom_tooltip = {
			text = republican_progress_increase_25_tt
			change_variable = {
				name = republican_progress
				add = 25
			}
		}
		if = {
			limit = {
				ig:ig_armed_forces.leader = {
					NOT = {
						OR = {
							has_ideology = ideology:ideology_republican_leader
							has_ideology = ideology:ideology_radical
							has_ideology = ideology:ideology_atheist							# nihilist
							has_ideology = ideology:ideology_liberal_leader							#democrat
							has_ideology = ideology:ideology_positivist
							has_ideology = ideology:ideology_market_liberal
						}
					}
				}
			}
			ig:ig_armed_forces.leader = {
				set_ideology = ideology:ideology_republican_leader
			}
		}
		add_modifier = {
			name = dead_man_mil_rep
			months = short_modifier_time
		}
	}
	option = {
		name = dead_man_pulse.2.c
		custom_tooltip = {
			text = theocracy_progress_increase_tick_1_tt
			change_variable = {
				name = theocracy_progress_from_effects
				add = 1
			}
		}
		if = {
			limit = {
				ig:ig_armed_forces.leader = {
					NOT = {
						OR = {
							has_ideology = ideology:ideology_theocrat
							has_ideology = ideology:ideology_traditionalist
							has_ideology = ideology:ideology_authoritarian
							has_ideology = ideology:ideology_slaver
							has_ideology = ideology:ideology_corporatist
						}
					}
				}
			}
			ig:ig_armed_forces.leader = {
				set_ideology = ideology:ideology_theocrat
			}
		}
		add_modifier = {
			name = dead_man_mil_theo
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = officers
			value = large_radicals
		}
	}
}

# BALKAN NATIONALISTS DEMAND INDEPENDENCE
dead_man_pulse.3 = {
	type = country_event
	placement = ROOT
	title = dead_man_pulse.3.t
	desc = dead_man_pulse.3.d
	flavor = dead_man_pulse.3.f
	duration = 3
	event_image = {
		video = "votp_agitator_speaking"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/protest.dds"
	trigger = {
		NOT = {
			has_variable = dead_man_pulse_balk
		}
		has_law = law_type:law_monarchy
	}
	immediate = {
		set_variable = dead_man_pulse_balk
	}
	option = {
		name = dead_man_pulse.3.a		#We Promise to Free the Balkans
		custom_tooltip = {
			text = communist_progress_increase_tick_1_tt
			change_variable = {
				name = communist_progress_from_effects
				add = 1
			}
		}
		custom_tooltip = {
			text = communist_progress_increase_10_tt
			change_variable = {
				name = communist_progress
				add = 10
			}
		}
		add_modifier = {
			name = dead_man_balk_comm
			months = long_modifier_time
			is_decaying = yes
		}
		add_loyalists = {
			value = 0.15
			culture = cu:greek
		}
		add_loyalists = {
			value = 0.1
			culture = cu:bulgarian
		}
		add_loyalists = {
			value = 0.1
			culture = cu:serb
		}
		add_loyalists = {
			value = 0.1
			culture = cu:croat
		}
		add_loyalists = {
			value = 0.1
			culture = cu:albanian
		}
		add_loyalists = {
			value = 0.1
			culture = cu:bosniak
		}
		add_loyalists = {
			value = 0.1
			culture = cu:romanian
		}
		add_radicals = {
			value = 0.05
			culture = cu:turkish
		}
		set_variable = dead_man_pulse_balk_comm
	}
	option = {
		name = dead_man_pulse.3.b
		trigger = {
			AND = {
				has_law = law_type:law_total_separation
				OR = {
					has_law = law_type:law_cultural_exclusion
					has_law = law_type:law_multicultural
				}
			}
		}
		custom_tooltip = {
			text = republican_progress_increase_40_tt
			change_variable = {
				name = republican_progress
				add = 40
			}
		}
		custom_tooltip = {
			text = republican_progress_decrease_tick_05_tt
			change_variable = {
				name = republican_progress_from_effects
				add = -0.5
			}
		}
		add_loyalists = {
			value = 0.1
			culture = cu:greek
		}
		add_loyalists = {
			value = 0.05
			culture = cu:bulgarian
		}
		add_loyalists = {
			value = 0.05
			culture = cu:serb
		}
		add_loyalists = {
			value = 0.05
			culture = cu:croat
		}
		add_loyalists = {
			value = 0.05
			culture = cu:albanian
		}
		add_loyalists = {
			value = 0.05
			culture = cu:bosniak
		}
		add_loyalists = {
			value = 0.05
			culture = cu:romanian
		}
		add_modifier = {
			name = dead_man_balk_rep
			months = long_modifier_time
		}
	}
	option = {
		name = dead_man_pulse.3.c
		default_option = yes
		custom_tooltip = {
			text = theocracy_progress_decrease_10_tt
			change_variable = {
				name = theocracy_progress
				add = -10
			}
		}
		custom_tooltip = {
			text = theocracy_progress_increase_tick_1_tt
			change_variable = {
				name = theocracy_progress_from_effects
				add = 1
			}
		}
		add_radicals = {
			value = 0.1
			culture = cu:greek
		}
		add_radicals = {
			value = 0.1
			culture = cu:bulgarian
		}
		add_radicals = {
			value = 0.1
			culture = cu:serb
		}
		add_radicals = {
			value = 0.1
			culture = cu:croat
		}
		add_radicals = {
			value = 0.1
			culture = cu:albanian
		}
		add_radicals = {
			value = 0.1
			culture = cu:bosniak
		}
		add_radicals = {
			value = 0.1
			culture = cu:romanian
		}
		add_modifier = {
			name = dead_man_balk_theo
			months = long_modifier_time
			is_decaying = yes
		}
	}
}

# TURKISH NATIONALISM
dead_man_pulse.4 = {
	type = country_event
	placement = ROOT
	title = dead_man_pulse.4.t
	desc = dead_man_pulse.4.d
	flavor = dead_man_pulse.4.f
	duration = 3
	event_image = {
		video = "votp_cops_march"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/protest.dds"
	trigger = {
		NOT = {
			has_variable = dead_man_pulse_turk
		}
		has_law = law_type:law_monarchy
	}
	immediate = {
		set_variable = dead_man_pulse_turk
	}
	option = {
		name = dead_man_pulse.4.a
		custom_tooltip = {
			text = communist_progress_increase_tick_05_tt
			change_variable = {
				name = communist_progress_from_effects
				add = 0.5
			}
		}
		custom_tooltip = {
			text = republican_progress_decrease_10_tt
			change_variable = {
				name = republican_progress
				add = -10
			}
		}
		custom_tooltip = {
			text = theocracy_progress_decrease_10_tt
			change_variable = {
				name = theocracy_progress
				add = -10
			}
		}
		add_loyalists = {
			value = 0.1
			culture = cu:turkish
		}
	}
	option = {
		name = dead_man_pulse.4.b
		default_option = yes
		custom_tooltip = {
			text = republican_progress_increase_tick_1_tt
			change_variable = {
				name = republican_progress_from_effects
				add = 1
			}
		}
		custom_tooltip = {
			text = republican_progress_increase_10_tt
			change_variable = {
				name = republican_progress
				add = 10
			}
		}
		custom_tooltip = {
			text = communist_progress_decrease_15_tt
			change_variable = {
				name = communist_progress
				add = -15
			}
		}
		custom_tooltip = {
			text = theocracy_progress_decrease_15_tt
			change_variable = {
				name = theocracy_progress
				add = -15
			}
		}
		add_loyalists = {
			value = 0.2
			culture = cu:turkish
		}
		add_radicals = {
			value = 0.1
			culture = cu:greek
		}
		add_radicals = {
			value = 0.1
			culture = cu:bulgarian
		}
		add_radicals = {
			value = 0.1
			culture = cu:serb
		}
		add_radicals = {
			value = 0.1
			culture = cu:croat
		}
		add_radicals = {
			value = 0.1
			culture = cu:albanian
		}
		add_radicals = {
			value = 0.1
			culture = cu:bosniak
		}
		add_radicals = {
			value = 0.1
			culture = cu:romanian
		}
		add_radicals = {
			value = 0.1
			culture = cu:misri
		}
		add_radicals = {
			value = 0.1
			culture = cu:kurdish
		}
		add_radicals = {
			value = 0.1
			culture = cu:bedouin
		}
		add_modifier = {
			name = dead_man_turk_rep
			months = long_modifier_time
		}
	}
	option = {
		name = dead_man_pulse.4.c
		custom_tooltip = {
			text = theocracy_progress_increase_tick_05_tt
			change_variable = {
				name = theocracy_progress_from_effects
				add = 0.5
			}
		}
		custom_tooltip = {
			text = communist_progress_decrease_15_tt
			change_variable = {
				name = communist_progress
				add = -15
			}
		}
		custom_tooltip = {
			text = republican_progress_decrease_5_tt
			change_variable = {
				name = republican_progress
				add = -5
			}
		}
		add_loyalists = {
			value = 0.15
			culture = cu:turkish
		}
		add_loyalists = {
			value = 0.1
			culture = cu:albanian
		}
		add_loyalists = {
			value = 0.1
			culture = cu:bosniak
		}
		add_loyalists = {
			value = 0.1
			culture = cu:misri
		}
		add_loyalists = {
			value = 0.1
			culture = cu:kurdish
		}
		add_loyalists = {
			value = 0.1
			culture = cu:bedouin
		}
		add_radicals = {
			value = 0.1
			culture = cu:greek
		}
		add_radicals = {
			value = 0.1
			culture = cu:bulgarian
		}
		add_radicals = {
			value = 0.1
			culture = cu:serb
		}
		add_radicals = {
			value = 0.1
			culture = cu:croat
		}
		add_radicals = {
			value = 0.1
			culture = cu:romanian
		}
	}
}
